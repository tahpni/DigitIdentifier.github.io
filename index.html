<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>digits01</title>
  <style>
      body
      {
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #908c8c;
      }
      video
      {
        max-width: 100%;
        max-height: 100%;
      }
      #Start {
        display: none;
        opacity: 0;
        transition: opacity 1s;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10; /* Make sure it stays on top */
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
      }
      #video-container {
        position: relative;
        width: 100%;
        height: 100%;
      }
    </style>
</head>
<body>
  <div id="video-container">
    <video id="Intro" autoplay>
      <source src='loop.mp4' type="video/mp4">
      Video failed to load. (Error: 1)
    </video>
    <button id="Start" onclick="startProgram()">Start</button>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var Intro = document.getElementById('Intro');
      var startButton = document.getElementById('startButton');
      var LoopVideo = "media/videos/Loop.mp4";

      Intro.onended = function() {
        Intro.src = LoopVideo;
        Intro.loop = true;
        Intro.play();
        startButton.style.display = 'block';
        setTimeout(function() {
          startButton.style.opacity = 1;
        }, 100); // Small delay to ensure the button is displayed before starting the fade-in effect
      };

      window.startProgram = function() {
        fetch('/execute', { method: 'POST' })
          .then(response => response.json())
          .then(data => {
            alert(data.output);
            Intro.loop = false; // Stop looping after button is pressed
            startButton.style.display = 'none';
          });
      };
    });
  </script>
</body>
</html>
